%%%%%%%%%%%%   LaTeX Preamble %%%%%%%%%%%%%%

\documentclass{beamer}

\usefonttheme[onlymath]{serif}
\usepackage{comment}
\usepackage{hyperref}
\usepackage{pgfpages}
\usepackage{amsmath}
\usepackage{latexsym}
\usepackage{enumerate}
\usepackage{color}
\usepackage{ifthen}
\usepackage{animate}
\usepackage{tikz,pgfplots}
\usepackage{mycommands}
\pgfplotsset{compat=1.3}
\usetikzlibrary{plotmarks,shapes,arrows,positioning}
\usetheme{Berlin}
\usecolortheme{mit}

% Set Logo
\pgfdeclareimage[height=0.5cm]{mit-logo}{mit-logo.pdf}
\logo{\vspace{-0.25cm}\pgfuseimage{mit-logo}\hspace*{0.025cm}}

% Show outline at beginning of each section
\AtBeginSection[]
{
  \begin{frame}<beamer>
    \frametitle{Outline}
    \tableofcontents[currentsection]
  \end{frame}
}

\setbeamertemplate{blocks}[rounded][shadow=true]
\setbeamertemplate{navigation symbols}{} % the pdf navigation stuff
\newcommand{\packin}{\setlength\abovedisplayskip{2pt}\setlength\belowdisplayskip{2pt}}
\tikzstyle{refbox} = [shape = rectangle, fill = mitred, inner sep = 2pt, text=white, font=\footnotesize]
\newcommand{\numberInBox}[2][0.9]%
	{\scalebox{#1}{{\tikz \draw (0,0) node[refbox] {\makebox[\totalheight]{#2}};}}}
\newcommand{\enumref}[2][0.9] {\numberInBox[#1]{\ref{#2}}}

% Small arrow pointing down and hooking right
\newcommand{\drarrow}{\scalebox{1.5}{\reflectbox{\rotatebox[c]{180}{$\boldsymbol{\smash[b]{\Rsh}}$}}}}


\newenvironment{prettydescript}[1]
	{\begin{list}{}%
		{\renewcommand\makelabel[1]{\itshape\bfseries\color{mitred} ##1:\hfill}%
		\settowidth\labelwidth{\makelabel{#1}}%
		\setlength\leftmargin{\labelwidth}%
		\addtolength\leftmargin{\labelsep}}}%
	{\end{list}}


\newenvironment{customdescript}[1]
	{\begin{list}{}%
		{\renewcommand\makelabel[1]{\bfseries\color{mitred} ##1\hfill}%
		\settowidth\labelwidth{\makelabel{#1}}%
		\setlength\leftmargin{\labelwidth}%
		\addtolength\leftmargin{\labelsep}}}%
	{\end{list}}


\makeatletter
\newenvironment{customlist}[2]{
  \ifnum\@itemdepth >2\relax\@toodeep\else
      \advance\@itemdepth\@ne%
      \beamer@computepref\@itemdepth%
      \usebeamerfont{itemize/enumerate \beameritemnestingprefix body}%
      \usebeamercolor[fg]{itemize/enumerate \beameritemnestingprefix body}%
      \usebeamertemplate{itemize/enumerate \beameritemnestingprefix body begin}%
      \begin{list}
        {
            \usebeamertemplate{itemize \beameritemnestingprefix item}
        }
        { \leftmargin=#1 \itemindent=#2
            \def\makelabel##1{%
              {%  
                  \hss\llap{{%
                    \usebeamerfont*{itemize \beameritemnestingprefix item}%
                        \usebeamercolor[fg]{itemize \beameritemnestingprefix item}##1}}%
              }%  
            }%  
        }
  \fi
}
{
  \end{list}
  \usebeamertemplate{itemize/enumerate \beameritemnestingprefix body end}%
}
\makeatother
\newenvironment<>{varblock}[2][\textwidth]{%
  \setlength{\textwidth}{#1}
  \begin{actionenv}#3%
    \def\insertblocktitle{#2}%
    \par%
    \usebeamertemplate{block begin}}
  {\par%
    \usebeamertemplate{block end}%
  \end{actionenv}}
%% Notational commands:
\newcommand{\params}{\ensuremath{\xi}}
\newcommand{\vparms}{\ensuremath{\gvect{\params}}}
\renewcommand{\thefootnote}{\ensuremath{\fnsymbol{footnote}}}
\setcounter{footnote}{2}
\renewcommand{\thempfootnote}{\ensuremath{\fnsymbol{mpfootnote}}}
\newcommand{\newsubsection}[1]{\subsection{#1}\setcounter{subsection}{0}}

\graphicspath{{./tikz/}}

%% Title Page
\title[JFNK Methods for Coupled Nonlinear Systems]{Jacobian-Free Newton-Krylov (JFNK) Methods for Nonlinear Neutronics/Thermal-Hydrualic Equations}
\author[]{Bryan Herman}
\institute[\insertpagenumber]{}
\date{\today} 

\newcounter{angle}
\setcounter{angle}{0}

% -----------------------------------------------------------------------------
\begin{document}
% -----------------------------------------------------------------------------
\frame{\titlepage}

\section[Outline]{}
% -------------------------------------------------------------------------------------------------------------
\begin{frame}{Outline}
  \tableofcontents
\end{frame}
% -------------------------------------------------------------------------------------------------------------

%=======================================================
\begin{section}{Introduction}

%-------------------------------------------------------------------------------------------------------------
\begin{frame}{Motivation}

	\begin{customlist}{0pt}{0pt}

		\item Research is key

	\end{customlist}

\end{frame}
%-----------------------------------------------------------------------------------------------------------

\begin{subsection}{Formulating the Nonlinear Problem}

%-----------------------------------------------------------------------------------------------------------
\begin{frame}{Common Approach to Coupling - Operator Splitting}

	\begin{center}
	\scalebox{0.65}{%

		\input {./tikz/PARCS_marching.tikz}

	}
	\end{center}

\end{frame}
%-----------------------------------------------------------------------------------------------------------
\begin{frame}{PARCS Coupling}

	\begin{center}
	\scalebox{0.65}{%

		\input {./tikz/PARCS_coupling.tikz}

	}
	\end{center}

\end{frame}
%-----------------------------------------------------------------------------------------------------------

\end{subsection}

\end{section}

%======================================================
\begin{section}{Governing Equations}

\end{section}
%======================================================

%======================================================
\begin{section}{Solvers}

\end{section}
%======================================================
\begin{section}{Results}

%------------------------------------------------------------------------------------------------------------
\begin{frame}{Flux Results - Steady Solution}

	\begin{block}{Flux Results}
		\begin{center}
			\input{./tikz/flux.tikz}
		\end{center}	
	\end{block}

\end{frame}
%------------------------------------------------------------------------------------------------------------
\begin{frame}{Animation}

	\begin{center}

		\begin{animateinline}[loop, poster = first, controls, palindrome]{2}
			\input{./tikz/flux.tikz}
			\newframe
			\input{./tikz/density.tikz}
		\end{animateinline}	

	\end{center}

\end{frame}
%-----------------------------------------------------------------------------------------------------------
\begin{comment}
\begin{frame}{Animation}

	\begin{center}

		\begin{animateinline}[loop, poster = first, controls]{2}
			\input{./tikz/anim/power_6.tikz}
			\newframe
			\input{./tikz/anim/power_12.tikz}
			\newframe
			\input{./tikz/anim/power_18.tikz}
			\newframe
			\input{./tikz/anim/power_24.tikz}
			\newframe
			\input{./tikz/anim/power_30.tikz}
			\newframe
			\input{./tikz/anim/power_36.tikz}
			\newframe
			\input{./tikz/anim/power_42.tikz}
			\newframe
			\input{./tikz/anim/power_48.tikz}
			\newframe
			\input{./tikz/anim/power_54.tikz}
			\newframe
			\input{./tikz/anim/power_60.tikz}
			\newframe
			\input{./tikz/anim/power_66.tikz}
			\newframe
			\input{./tikz/anim/power_72.tikz}
			\newframe
			\input{./tikz/anim/power_78.tikz}
			\newframe
			\input{./tikz/anim/power_84.tikz}
			\newframe
			\input{./tikz/anim/power_90.tikz}
			\newframe
			\input{./tikz/anim/power_96.tikz}
			\newframe
			\input{./tikz/anim/power_102.tikz}
			\newframe
			\input{./tikz/anim/power_108.tikz}
			\newframe
			\input{./tikz/anim/power_114.tikz}
			\newframe
			\input{./tikz/anim/power_120.tikz}
		\end{animateinline}	

	\end{center}

\end{frame}
\end{comment}
%-----------------------------------------------------------------------------------------------------------
\end{section}
%======================================================
\begin{section}{Conclusions}
\end{section}
%======================================================
%======================================================
\end{document}


